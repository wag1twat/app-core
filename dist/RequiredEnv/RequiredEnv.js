"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RequiredEnv=void 0;const runtypes_1=require("runtypes"),defaultOptions={checkOnInitializeClass:!0};class RequiredEnv{_variables;_contract;constructor(e,t=defaultOptions){this._variables=e,this._contract=this.createContract();e=t.checkOnInitializeClass;e&&this.check()}createContract(){return(0,runtypes_1.Record)(this._variables.reduce((e,t)=>({...e,[t]:runtypes_1.String}),{}))}check(){this._contract.check(this.getVariables())}getVariables(){return this._variables.reduce((e,t)=>({...e,[t]:process.env[t]}),{})}}exports.RequiredEnv=RequiredEnv;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJlcXVpcmVkRW52L1JlcXVpcmVkRW52LmpzIiwiLi4vc3JjL1JlcXVpcmVkRW52L1JlcXVpcmVkRW52LnRzIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwicnVudHlwZXNfMSIsInJlcXVpcmUiLCJkZWZhdWx0T3B0aW9ucyIsImNoZWNrT25Jbml0aWFsaXplQ2xhc3MiLCJSZXF1aXJlZEVudiIsIl92YXJpYWJsZXMiLCJfY29udHJhY3QiLCJjb25zdHJ1Y3RvciIsInZhcmlhYmxlcyIsIm9wdGlvbnMiLCJ0aGlzIiwiY3JlYXRlQ29udHJhY3QiLCJjaGVjayIsIlJlY29yZCIsInJlZHVjZSIsImEiLCJjIiwiU3RyaW5nIiwiZ2V0VmFyaWFibGVzIiwidiIsInByb2Nlc3MiLCJlbnYiXSwibWFwcGluZ3MiOiJBQUFBLGFBQ0FBLE9BQU9DLGVBQWVDLFFBQVMsYUFBYyxDQUFFQyxNQUFPLENBQUEsQ0FBSyxDQUFDLEVBQTVESCxRQUFPQyxZQUFlQyxLQUFBQSxFQ0R0QixNQUFBRSxXQUFBQyxRQUFBLFVBQUEsRUFHTUMsZUFBcUMsQ0FDdkNDLHVCQUF3QixDQUFBLENBSjVCLFFBT01DLFlBQ01DLFdBQ0FDLFVBRVJDLFlBQVlDLEVBQWNDLEVBQThCUCxnQkFDcERRLEtBQUtMLFdBQWFHLEVBRWxCRSxLQUFLSixVQUFZSSxLQUFLQyxlQUFjLEVBRTVCUixFQUEyQk0sRUFBTCx1QkFFM0JOLEdBQ0NPLEtBQUtFLE1BQUssQ0FFbEIsQ0FFUUQsaUJBQ0osT0FBTyxFQUFBWCxXQUFBYSxRQUFlSCxLQUFLTCxXQUFXUyxPQUFtQyxDQUFDQyxFQUFHQyxLQUFDLENBQVEsR0FBR0QsR0FBSUMsR0FBSWhCLFdBQUFpQixNQUFnQixHQUFHLEVBQWdDLENBQUMsQ0FDekosQ0FFT0wsUUFDSEYsS0FBS0osVUFBVU0sTUFBTUYsS0FBS1EsYUFBWSxDQUFFLENBQzVDLENBRU9BLGVBQ0gsT0FBT1IsS0FBS0wsV0FBV1MsT0FBMkIsQ0FBQ0MsRUFBR0ksS0FBQyxDQUFRLEdBQUdKLEdBQUlJLEdBQUlDLFFBQVFDLElBQUlGLEVBQUksR0FBRyxFQUF3QixDQUN6SCxDRE5KLENDU1NyQixRQUFBTSxZQUFBQSIsImZpbGUiOiJSZXF1aXJlZEVudi9SZXF1aXJlZEVudi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5SZXF1aXJlZEVudiA9IHZvaWQgMDtcbmNvbnN0IHJ1bnR5cGVzXzEgPSByZXF1aXJlKFwicnVudHlwZXNcIik7XG5jb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICBjaGVja09uSW5pdGlhbGl6ZUNsYXNzOiB0cnVlXG59O1xuY2xhc3MgUmVxdWlyZWRFbnYge1xuICAgIF92YXJpYWJsZXM7XG4gICAgX2NvbnRyYWN0O1xuICAgIGNvbnN0cnVjdG9yKHZhcmlhYmxlcywgb3B0aW9ucyA9IGRlZmF1bHRPcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX3ZhcmlhYmxlcyA9IHZhcmlhYmxlcztcbiAgICAgICAgdGhpcy5fY29udHJhY3QgPSB0aGlzLmNyZWF0ZUNvbnRyYWN0KCk7XG4gICAgICAgIGNvbnN0IHsgY2hlY2tPbkluaXRpYWxpemVDbGFzcyB9ID0gb3B0aW9ucztcbiAgICAgICAgaWYgKGNoZWNrT25Jbml0aWFsaXplQ2xhc3MpIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2soKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjcmVhdGVDb250cmFjdCgpIHtcbiAgICAgICAgcmV0dXJuICgwLCBydW50eXBlc18xLlJlY29yZCkodGhpcy5fdmFyaWFibGVzLnJlZHVjZSgoYSwgYykgPT4gKHsgLi4uYSwgW2NdOiBydW50eXBlc18xLlN0cmluZyB9KSwge30pKTtcbiAgICB9XG4gICAgY2hlY2soKSB7XG4gICAgICAgIHRoaXMuX2NvbnRyYWN0LmNoZWNrKHRoaXMuZ2V0VmFyaWFibGVzKCkpO1xuICAgIH1cbiAgICBnZXRWYXJpYWJsZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92YXJpYWJsZXMucmVkdWNlKChhLCB2KSA9PiAoeyAuLi5hLCBbdl06IHByb2Nlc3MuZW52W3ZdIH0pLCB7fSk7XG4gICAgfVxufVxuZXhwb3J0cy5SZXF1aXJlZEVudiA9IFJlcXVpcmVkRW52O1xuIiwiaW1wb3J0IHsgUmVjb3JkIGFzIFJ1bnR5cGVzUmVjb3JkLCBTdHJpbmcgYXMgUnVudHlwZXNTdHJpbmcgfSBmcm9tIFwicnVudHlwZXNcIlxyXG5pbXBvcnQgeyBNYXBwZWRWYXJpYWJsZXMsIE1hcHBlZFZhcmlhYmxlc0NvbnRyYWN0LCBNYXBwZWRWYXJpYWJsZXNSdW50eXBlcywgUmVxdWlyZWRFbnZPcHRpb25zIH0gZnJvbSBcIi4vdHlwZXNcIlxyXG5cclxuY29uc3QgZGVmYXVsdE9wdGlvbnM6IFJlcXVpcmVkRW52T3B0aW9ucyA9IHtcclxuICAgIGNoZWNrT25Jbml0aWFsaXplQ2xhc3M6IHRydWVcclxufVxyXG5cclxuY2xhc3MgUmVxdWlyZWRFbnY8ViBleHRlbmRzIHJlYWRvbmx5IHN0cmluZ1tdPiB7XHJcbiAgICBwcml2YXRlIF92YXJpYWJsZXM6IFZcclxuICAgIHByaXZhdGUgX2NvbnRyYWN0OiBNYXBwZWRWYXJpYWJsZXNDb250cmFjdDxWPlxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHZhcmlhYmxlczogViwgb3B0aW9uczogUmVxdWlyZWRFbnZPcHRpb25zID0gZGVmYXVsdE9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLl92YXJpYWJsZXMgPSB2YXJpYWJsZXNcclxuXHJcbiAgICAgICAgdGhpcy5fY29udHJhY3QgPSB0aGlzLmNyZWF0ZUNvbnRyYWN0KClcclxuXHJcbiAgICAgICAgY29uc3QgeyBjaGVja09uSW5pdGlhbGl6ZUNsYXNzIH0gPSBvcHRpb25zXHJcblxyXG4gICAgICAgIGlmKGNoZWNrT25Jbml0aWFsaXplQ2xhc3MpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGVjaygpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY3JlYXRlQ29udHJhY3QoKXtcclxuICAgICAgICByZXR1cm4gUnVudHlwZXNSZWNvcmQodGhpcy5fdmFyaWFibGVzLnJlZHVjZTxNYXBwZWRWYXJpYWJsZXNSdW50eXBlczxWPj4oKGEsIGMpID0+ICh7IC4uLmEsIFtjXTogUnVudHlwZXNTdHJpbmcgfSksIHt9IGFzIE1hcHBlZFZhcmlhYmxlc1J1bnR5cGVzPFY+KSlcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2hlY2soKXtcclxuICAgICAgICB0aGlzLl9jb250cmFjdC5jaGVjayh0aGlzLmdldFZhcmlhYmxlcygpKVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRWYXJpYWJsZXMoKTogTWFwcGVkVmFyaWFibGVzPFY+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdmFyaWFibGVzLnJlZHVjZTxNYXBwZWRWYXJpYWJsZXM8Vj4+KChhLCB2KSA9PiAoeyAuLi5hLCBbdl06IHByb2Nlc3MuZW52W3ZdIH0pLCB7fSBhcyBNYXBwZWRWYXJpYWJsZXM8Vj4pXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IFJlcXVpcmVkRW52IH0iXX0=
