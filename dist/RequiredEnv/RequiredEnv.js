"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RequiredEnv=void 0;const runtypes_1=require("runtypes"),defaultOptions={checkOnInitializeClass:!0};class RequiredEnv{_variables;_contract;constructor(e,t=defaultOptions){this._variables=e,this._contract=this.createContract();e=t.checkOnInitializeClass;e&&this.check()}createContract(){return(0,runtypes_1.Record)(this._variables.reduce((e,t)=>({...e,[t]:runtypes_1.String}),{}))}check(){this._contract.check(this.getVariables())}getVariables(){return this._variables.reduce((e,t)=>({...e,[t]:process.env[t]}),{})}}exports.RequiredEnv=RequiredEnv;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJlcXVpcmVkRW52L1JlcXVpcmVkRW52LmpzIiwiLi4vc3JjL1JlcXVpcmVkRW52L1JlcXVpcmVkRW52LnRzIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwicnVudHlwZXNfMSIsInJlcXVpcmUiLCJkZWZhdWx0T3B0aW9ucyIsImNoZWNrT25Jbml0aWFsaXplQ2xhc3MiLCJSZXF1aXJlZEVudiIsIl92YXJpYWJsZXMiLCJfY29udHJhY3QiLCJjb25zdHJ1Y3RvciIsInZhcmlhYmxlcyIsIm9wdGlvbnMiLCJ0aGlzIiwiY3JlYXRlQ29udHJhY3QiLCJjaGVjayIsIlJlY29yZCIsInJlZHVjZSIsImEiLCJjIiwiU3RyaW5nIiwiZ2V0VmFyaWFibGVzIiwidiIsInByb2Nlc3MiLCJlbnYiXSwibWFwcGluZ3MiOiJBQUFBLGFBQ0FBLE9BQU9DLGVBQWVDLFFBQVMsYUFBYyxDQUFFQyxNQUFPLENBQUEsQ0FBSyxDQUFDLEVBQTVESCxRQUFPQyxZQUFlQyxLQUFBQSxFQ0R0QixNQUFBRSxXQUFBQyxRQUFBLFVBQUEsRUFHTUMsZUFBcUMsQ0FDdkNDLHVCQUF3QixDQUFBLENBSjVCLFFBT01DLFlBQ01DLFdBQ0FDLFVBRVJDLFlBQVlDLEVBQWNDLEVBQThCUCxnQkFDcERRLEtBQUtMLFdBQWFHLEVBRWxCRSxLQUFLSixVQUFZSSxLQUFLQyxlQUFjLEVBRTVCUixFQUEyQk0sRUFBTCx1QkFFMUJOLEdBQ0FPLEtBQUtFLE1BQUssQ0FFbEIsQ0FFUUQsaUJBQ0osT0FBTyxFQUFBWCxXQUFBYSxRQUNISCxLQUFLTCxXQUFXUyxPQUNaLENBQUNDLEVBQUdDLEtBQUMsQ0FBUSxHQUFHRCxHQUFJQyxHQUFJaEIsV0FBQWlCLE1BQWdCLEdBQ3hDLEVBQWdDLENBQ25DLENBRVQsQ0FFT0wsUUFDSEYsS0FBS0osVUFBVU0sTUFBTUYsS0FBS1EsYUFBWSxDQUFFLENBQzVDLENBRU9BLGVBQ0gsT0FBT1IsS0FBS0wsV0FBV1MsT0FDbkIsQ0FBQ0MsRUFBR0ksS0FBQyxDQUFRLEdBQUdKLEdBQUlJLEdBQUlDLFFBQVFDLElBQUlGLEVBQUksR0FDeEMsRUFBd0IsQ0FFaEMsQ0RkSixDQ2lCU3JCLFFBQUFNLFlBQUFBIiwiZmlsZSI6IlJlcXVpcmVkRW52L1JlcXVpcmVkRW52LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlJlcXVpcmVkRW52ID0gdm9pZCAwO1xuY29uc3QgcnVudHlwZXNfMSA9IHJlcXVpcmUoXCJydW50eXBlc1wiKTtcbmNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgIGNoZWNrT25Jbml0aWFsaXplQ2xhc3M6IHRydWUsXG59O1xuY2xhc3MgUmVxdWlyZWRFbnYge1xuICAgIF92YXJpYWJsZXM7XG4gICAgX2NvbnRyYWN0O1xuICAgIGNvbnN0cnVjdG9yKHZhcmlhYmxlcywgb3B0aW9ucyA9IGRlZmF1bHRPcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX3ZhcmlhYmxlcyA9IHZhcmlhYmxlcztcbiAgICAgICAgdGhpcy5fY29udHJhY3QgPSB0aGlzLmNyZWF0ZUNvbnRyYWN0KCk7XG4gICAgICAgIGNvbnN0IHsgY2hlY2tPbkluaXRpYWxpemVDbGFzcyB9ID0gb3B0aW9ucztcbiAgICAgICAgaWYgKGNoZWNrT25Jbml0aWFsaXplQ2xhc3MpIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2soKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjcmVhdGVDb250cmFjdCgpIHtcbiAgICAgICAgcmV0dXJuICgwLCBydW50eXBlc18xLlJlY29yZCkodGhpcy5fdmFyaWFibGVzLnJlZHVjZSgoYSwgYykgPT4gKHsgLi4uYSwgW2NdOiBydW50eXBlc18xLlN0cmluZyB9KSwge30pKTtcbiAgICB9XG4gICAgY2hlY2soKSB7XG4gICAgICAgIHRoaXMuX2NvbnRyYWN0LmNoZWNrKHRoaXMuZ2V0VmFyaWFibGVzKCkpO1xuICAgIH1cbiAgICBnZXRWYXJpYWJsZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92YXJpYWJsZXMucmVkdWNlKChhLCB2KSA9PiAoeyAuLi5hLCBbdl06IHByb2Nlc3MuZW52W3ZdIH0pLCB7fSk7XG4gICAgfVxufVxuZXhwb3J0cy5SZXF1aXJlZEVudiA9IFJlcXVpcmVkRW52O1xuIiwiaW1wb3J0IHsgUmVjb3JkIGFzIFJ1bnR5cGVzUmVjb3JkLCBTdHJpbmcgYXMgUnVudHlwZXNTdHJpbmcgfSBmcm9tICdydW50eXBlcydcbmltcG9ydCB7IE1hcHBlZFZhcmlhYmxlcywgTWFwcGVkVmFyaWFibGVzQ29udHJhY3QsIE1hcHBlZFZhcmlhYmxlc1J1bnR5cGVzLCBSZXF1aXJlZEVudk9wdGlvbnMgfSBmcm9tICcuL3R5cGVzJ1xuXG5jb25zdCBkZWZhdWx0T3B0aW9uczogUmVxdWlyZWRFbnZPcHRpb25zID0ge1xuICAgIGNoZWNrT25Jbml0aWFsaXplQ2xhc3M6IHRydWUsXG59XG5cbmNsYXNzIFJlcXVpcmVkRW52PFYgZXh0ZW5kcyByZWFkb25seSBzdHJpbmdbXT4ge1xuICAgIHByaXZhdGUgX3ZhcmlhYmxlczogVlxuICAgIHByaXZhdGUgX2NvbnRyYWN0OiBNYXBwZWRWYXJpYWJsZXNDb250cmFjdDxWPlxuXG4gICAgY29uc3RydWN0b3IodmFyaWFibGVzOiBWLCBvcHRpb25zOiBSZXF1aXJlZEVudk9wdGlvbnMgPSBkZWZhdWx0T3B0aW9ucykge1xuICAgICAgICB0aGlzLl92YXJpYWJsZXMgPSB2YXJpYWJsZXNcblxuICAgICAgICB0aGlzLl9jb250cmFjdCA9IHRoaXMuY3JlYXRlQ29udHJhY3QoKVxuXG4gICAgICAgIGNvbnN0IHsgY2hlY2tPbkluaXRpYWxpemVDbGFzcyB9ID0gb3B0aW9uc1xuXG4gICAgICAgIGlmIChjaGVja09uSW5pdGlhbGl6ZUNsYXNzKSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrKClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlQ29udHJhY3QoKSB7XG4gICAgICAgIHJldHVybiBSdW50eXBlc1JlY29yZChcbiAgICAgICAgICAgIHRoaXMuX3ZhcmlhYmxlcy5yZWR1Y2U8TWFwcGVkVmFyaWFibGVzUnVudHlwZXM8Vj4+KFxuICAgICAgICAgICAgICAgIChhLCBjKSA9PiAoeyAuLi5hLCBbY106IFJ1bnR5cGVzU3RyaW5nIH0pLFxuICAgICAgICAgICAgICAgIHt9IGFzIE1hcHBlZFZhcmlhYmxlc1J1bnR5cGVzPFY+XG4gICAgICAgICAgICApXG4gICAgICAgIClcbiAgICB9XG5cbiAgICBwdWJsaWMgY2hlY2soKSB7XG4gICAgICAgIHRoaXMuX2NvbnRyYWN0LmNoZWNrKHRoaXMuZ2V0VmFyaWFibGVzKCkpXG4gICAgfVxuXG4gICAgcHVibGljIGdldFZhcmlhYmxlcygpOiBNYXBwZWRWYXJpYWJsZXM8Vj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmFyaWFibGVzLnJlZHVjZTxNYXBwZWRWYXJpYWJsZXM8Vj4+KFxuICAgICAgICAgICAgKGEsIHYpID0+ICh7IC4uLmEsIFt2XTogcHJvY2Vzcy5lbnZbdl0gfSksXG4gICAgICAgICAgICB7fSBhcyBNYXBwZWRWYXJpYWJsZXM8Vj5cbiAgICAgICAgKVxuICAgIH1cbn1cblxuZXhwb3J0IHsgUmVxdWlyZWRFbnYgfVxuIl19
