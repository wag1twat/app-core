"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RequiredEnv=void 0;const runtypes_1=require("runtypes"),defaultOptions={checkOnInitializeClass:!0};class RequiredEnv{_variables;_contract;constructor(e,t=defaultOptions){this._variables=e,this._contract=this.createContract();e=t.checkOnInitializeClass;e&&this.check()}createContract(){return(0,runtypes_1.Record)(this._variables.reduce((e,t)=>({...e,[t]:runtypes_1.String}),{}))}check(){this._contract.check(this.getVariables())}getVariables(){return this._variables.reduce((e,t)=>({...e,[t]:process.env[t]}),{})}}exports.RequiredEnv=RequiredEnv;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJlcXVpcmVkRW52L1JlcXVpcmVkRW52LmpzIiwiLi4vc3JjL1JlcXVpcmVkRW52L1JlcXVpcmVkRW52LnRzIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwicnVudHlwZXNfMSIsInJlcXVpcmUiLCJkZWZhdWx0T3B0aW9ucyIsImNoZWNrT25Jbml0aWFsaXplQ2xhc3MiLCJSZXF1aXJlZEVudiIsIl92YXJpYWJsZXMiLCJfY29udHJhY3QiLCJjb25zdHJ1Y3RvciIsInZhcmlhYmxlcyIsIm9wdGlvbnMiLCJ0aGlzIiwiY3JlYXRlQ29udHJhY3QiLCJjaGVjayIsIlJlY29yZCIsInJlZHVjZSIsImEiLCJjIiwiU3RyaW5nIiwiZ2V0VmFyaWFibGVzIiwidiIsInByb2Nlc3MiLCJlbnYiXSwibWFwcGluZ3MiOiJBQUFBLGFBQ0FBLE9BQU9DLGVBQWVDLFFBQVMsYUFBYyxDQUFFQyxNQUFPLENBQUEsQ0FBSyxDQUFDLEVBQTVESCxRQUFPQyxZQUFlQyxLQUFBQSxFQ0R0QixNQUFBRSxXQUFBQyxRQUFBLFVBQUEsRUFRTUMsZUFBcUMsQ0FDdkNDLHVCQUF3QixDQUFBLENBVDVCLFFBWU1DLFlBQ01DLFdBQ0FDLFVBRVJDLFlBQVlDLEVBQWNDLEVBQThCUCxnQkFDcERRLEtBQUtMLFdBQWFHLEVBRWxCRSxLQUFLSixVQUFZSSxLQUFLQyxlQUFjLEVBRTVCUixFQUEyQk0sRUFBTCx1QkFFMUJOLEdBQ0FPLEtBQUtFLE1BQUssQ0FFbEIsQ0FFUUQsaUJBQ0osT0FBTyxFQUFBWCxXQUFBYSxRQUNISCxLQUFLTCxXQUFXUyxPQUNaLENBQUNDLEVBQUdDLEtBQUMsQ0FBUSxHQUFHRCxHQUFJQyxHQUFJaEIsV0FBQWlCLE1BQWdCLEdBQ3hDLEVBQWdDLENBQ25DLENBRVQsQ0FFT0wsUUFDSEYsS0FBS0osVUFBVU0sTUFBTUYsS0FBS1EsYUFBWSxDQUFFLENBQzVDLENBRU9BLGVBQ0gsT0FBT1IsS0FBS0wsV0FBV1MsT0FDbkIsQ0FBQ0MsRUFBR0ksS0FBQyxDQUFRLEdBQUdKLEdBQUlJLEdBQUlDLFFBQVFDLElBQUlGLEVBQUksR0FDeEMsRUFBd0IsQ0FFaEMsQ0RuQkosQ0NzQlNyQixRQUFBTSxZQUFBQSIsImZpbGUiOiJSZXF1aXJlZEVudi9SZXF1aXJlZEVudi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5SZXF1aXJlZEVudiA9IHZvaWQgMDtcbmNvbnN0IHJ1bnR5cGVzXzEgPSByZXF1aXJlKFwicnVudHlwZXNcIik7XG5jb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICBjaGVja09uSW5pdGlhbGl6ZUNsYXNzOiB0cnVlLFxufTtcbmNsYXNzIFJlcXVpcmVkRW52IHtcbiAgICBfdmFyaWFibGVzO1xuICAgIF9jb250cmFjdDtcbiAgICBjb25zdHJ1Y3Rvcih2YXJpYWJsZXMsIG9wdGlvbnMgPSBkZWZhdWx0T3B0aW9ucykge1xuICAgICAgICB0aGlzLl92YXJpYWJsZXMgPSB2YXJpYWJsZXM7XG4gICAgICAgIHRoaXMuX2NvbnRyYWN0ID0gdGhpcy5jcmVhdGVDb250cmFjdCgpO1xuICAgICAgICBjb25zdCB7IGNoZWNrT25Jbml0aWFsaXplQ2xhc3MgfSA9IG9wdGlvbnM7XG4gICAgICAgIGlmIChjaGVja09uSW5pdGlhbGl6ZUNsYXNzKSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY3JlYXRlQ29udHJhY3QoKSB7XG4gICAgICAgIHJldHVybiAoMCwgcnVudHlwZXNfMS5SZWNvcmQpKHRoaXMuX3ZhcmlhYmxlcy5yZWR1Y2UoKGEsIGMpID0+ICh7IC4uLmEsIFtjXTogcnVudHlwZXNfMS5TdHJpbmcgfSksIHt9KSk7XG4gICAgfVxuICAgIGNoZWNrKCkge1xuICAgICAgICB0aGlzLl9jb250cmFjdC5jaGVjayh0aGlzLmdldFZhcmlhYmxlcygpKTtcbiAgICB9XG4gICAgZ2V0VmFyaWFibGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmFyaWFibGVzLnJlZHVjZSgoYSwgdikgPT4gKHsgLi4uYSwgW3ZdOiBwcm9jZXNzLmVudlt2XSB9KSwge30pO1xuICAgIH1cbn1cbmV4cG9ydHMuUmVxdWlyZWRFbnYgPSBSZXF1aXJlZEVudjtcbiIsImltcG9ydCB7IFJlY29yZCBhcyBSdW50eXBlc1JlY29yZCwgU3RyaW5nIGFzIFJ1bnR5cGVzU3RyaW5nIH0gZnJvbSAncnVudHlwZXMnXG5pbXBvcnQge1xuICAgIE1hcHBlZFZhcmlhYmxlcyxcbiAgICBNYXBwZWRWYXJpYWJsZXNDb250cmFjdCxcbiAgICBNYXBwZWRWYXJpYWJsZXNSdW50eXBlcyxcbiAgICBSZXF1aXJlZEVudk9wdGlvbnMsXG59IGZyb20gJy4vdHlwZXMnXG5cbmNvbnN0IGRlZmF1bHRPcHRpb25zOiBSZXF1aXJlZEVudk9wdGlvbnMgPSB7XG4gICAgY2hlY2tPbkluaXRpYWxpemVDbGFzczogdHJ1ZSxcbn1cblxuY2xhc3MgUmVxdWlyZWRFbnY8ViBleHRlbmRzIHJlYWRvbmx5IHN0cmluZ1tdPiB7XG4gICAgcHJpdmF0ZSBfdmFyaWFibGVzOiBWXG4gICAgcHJpdmF0ZSBfY29udHJhY3Q6IE1hcHBlZFZhcmlhYmxlc0NvbnRyYWN0PFY+XG5cbiAgICBjb25zdHJ1Y3Rvcih2YXJpYWJsZXM6IFYsIG9wdGlvbnM6IFJlcXVpcmVkRW52T3B0aW9ucyA9IGRlZmF1bHRPcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX3ZhcmlhYmxlcyA9IHZhcmlhYmxlc1xuXG4gICAgICAgIHRoaXMuX2NvbnRyYWN0ID0gdGhpcy5jcmVhdGVDb250cmFjdCgpXG5cbiAgICAgICAgY29uc3QgeyBjaGVja09uSW5pdGlhbGl6ZUNsYXNzIH0gPSBvcHRpb25zXG5cbiAgICAgICAgaWYgKGNoZWNrT25Jbml0aWFsaXplQ2xhc3MpIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2soKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVDb250cmFjdCgpIHtcbiAgICAgICAgcmV0dXJuIFJ1bnR5cGVzUmVjb3JkKFxuICAgICAgICAgICAgdGhpcy5fdmFyaWFibGVzLnJlZHVjZTxNYXBwZWRWYXJpYWJsZXNSdW50eXBlczxWPj4oXG4gICAgICAgICAgICAgICAgKGEsIGMpID0+ICh7IC4uLmEsIFtjXTogUnVudHlwZXNTdHJpbmcgfSksXG4gICAgICAgICAgICAgICAge30gYXMgTWFwcGVkVmFyaWFibGVzUnVudHlwZXM8Vj5cbiAgICAgICAgICAgIClcbiAgICAgICAgKVxuICAgIH1cblxuICAgIHB1YmxpYyBjaGVjaygpIHtcbiAgICAgICAgdGhpcy5fY29udHJhY3QuY2hlY2sodGhpcy5nZXRWYXJpYWJsZXMoKSlcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0VmFyaWFibGVzKCk6IE1hcHBlZFZhcmlhYmxlczxWPiB7XG4gICAgICAgIHJldHVybiB0aGlzLl92YXJpYWJsZXMucmVkdWNlPE1hcHBlZFZhcmlhYmxlczxWPj4oXG4gICAgICAgICAgICAoYSwgdikgPT4gKHsgLi4uYSwgW3ZdOiBwcm9jZXNzLmVudlt2XSB9KSxcbiAgICAgICAgICAgIHt9IGFzIE1hcHBlZFZhcmlhYmxlczxWPlxuICAgICAgICApXG4gICAgfVxufVxuXG5leHBvcnQgeyBSZXF1aXJlZEVudiB9XG4iXX0=
