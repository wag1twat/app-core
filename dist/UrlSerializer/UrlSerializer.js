"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UrlSerializer=void 0;var _Base=require("../Base"),_utils=require("./utils");class UrlSerializer{constructor(i,t=_utils.defaultSerializeOptions,s={}){this._path=i,this._params=s,this._options=t,this.extend=this.extend.bind(this),this.setupParam=this.setupParam.bind(this),this.path=this.path.bind(this),this.param=this.param.bind(this),this.build=this.build.bind(this),this.link=this.link.bind(this),this.queries=this.queries.bind(this)}setupParam(i){if(_Base.Base.Object(this._params).get(i))throw new _utils.UniqueParamException(i);this._params=Object.assign(Object.assign({},this._params),{[":"+i]:i})}extend(i=void 0,t){return void 0===i&&"build"===t?new UrlSerializer(this._path,this._options,this._params):i&&"queries"===t||i&&"link"===t?new UrlSerializer(i,this._options,this._params):void 0}path(i){return this._path=this._path+"/"+i,this}param(i){return this.setupParam(i),this._path=this._path+"/:"+i,this}link(i){const t=_Base.Base.String(this._path).replaceAllSeparatedString("/",i);return{path:t,extend:()=>this.extend(t,"link")}}queries(i,t){const s=_Base.Base.String(this._path).joinQueryString(_Base.Base.Object(i).toQueries(Object.assign(Object.assign({},this._options),t)));return{path:s,extend:()=>this.extend(s,"queries")}}build(){return{path:this._path,extend:()=>this.extend(void 0,"build"),link:this.link,queries:this.queries}}}exports.UrlSerializer=UrlSerializer;
//# sourceMappingURL=UrlSerializer.js.map
