"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Paging=exports.paging=void 0;const Guards_1=require("../../../Guards");class Paging{state;options;pagingPage=1;pagingPages=[];constructor(i){this.state={page:i.startsWith||1,isFirstPage:!0,isLastPage:!1,isFirstPagingPage:!0,isLastPagingPage:!1,pages:[]},this.options=i,this.setState=this.setState.bind(this),this.getPagesCount=this.getPagesCount.bind(this),this.getPagingPages=this.getPagingPages.bind(this),this.pagingPages=this.getPagingPages(),this.nextPage=this.nextPage.bind(this),this.prevPage=this.prevPage.bind(this),this.nextPagingPage=this.nextPagingPage.bind(this),this.prevPagingPage=this.prevPagingPage.bind(this),this.updatePage=this.updatePage.bind(this),this.updatePagingPage=this.updatePagingPage.bind(this),this.isFirstPage=this.isFirstPage.bind(this),this.isLastPage=this.isLastPage.bind(this),this.isFirstPagingPage=this.isFirstPagingPage.bind(this),this.isLastPagingPage=this.isLastPagingPage.bind(this),Guards_1.Guards.isBoolean(this.options.onMount)&&!this.options.onMount||this.updatePage(this.state.page)}setState(i){this.state={...this.state,...i},Guards_1.Guards.isFunc(this.options.onPagingUpdate)&&this.options.onPagingUpdate(this.state)}getPagesCount(){return Math.ceil(this.options.itemsCount/this.options.pageSize)}isFirstPage=i=>1===i;isLastPage=i=>i===this.getPagesCount();isFirstPagingPage=i=>1===i;isLastPagingPage=i=>i===this.pagingPages.length;getPagingPages(){var t=Array.from(Array(this.getPagesCount()).keys()).map(i=>i+1),s=[];for(let i=0;i<Math.ceil(t.length/this.options.paginationSize);i++)s[i]=t.slice(i*this.options.paginationSize,i*this.options.paginationSize+this.options.paginationSize);return s}updatePagingPage(i){var t=this.pagingPages.length;1<=i&&i<=t&&(this.pagingPage=i,this.setState({pages:this.pagingPages[this.pagingPage-1],isFirstPagingPage:this.isFirstPagingPage(i),isLastPagingPage:this.isLastPagingPage(i)}))}nextPagingPage(){this.updatePagingPage(this.pagingPage+1)}prevPagingPage(){this.updatePagingPage(this.pagingPage+1)}updatePage(i){var t=this.getPagesCount();1<=i&&i<=t&&(this.setState({page:i,isFirstPage:this.isFirstPage(i),isLastPage:this.isLastPage(i)}),this.state.pages.includes(i)||(t=this.pagingPages.findIndex(i=>i.includes(this.state.page)),this.pagingPage=t+1,this.setState({pages:this.pagingPages[t],isFirstPagingPage:this.isFirstPagingPage(this.pagingPage),isLastPagingPage:this.isLastPagingPage(this.pagingPage)})))}nextPage(){this.updatePage(this.state.page+1)}prevPage(){this.updatePage(this.state.page-1)}}exports.Paging=Paging;const paging=i=>new Paging(i);exports.paging=paging;
//# sourceMappingURL=Paging.js.map
