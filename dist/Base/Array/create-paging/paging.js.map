{"version":3,"sources":["Base/Array/create-paging/paging.js","../src/Base/Array/create-paging/paging.ts"],"names":["Object","defineProperty","exports","value","Guards_1","require","getCount","itemsLength","pageSize","Math","ceil","paging","options","itemsCount","startsWith","paginationSize","onMount","onPagingUpdate","state","page","isFirstPage","isLastPage","_pagingPage","isFirstPagingPage","isLastPagingPage","_pagingPages","pages","getItemsPagesCount","ofCount","Array","from","keys","map","paginPages","let","i","length","slice","onPagingUpdateCallback","Guards","isFunc","getPaginationPagesCount","getIsFirstPaginationPage","getIsLastPaginationPage","updatePaginationPage","pagingPage","count","updatePage","includes","pagesIndex","findIndex","x","nextPage","prevPage","nextPaginationPage","prevPaginationPage"],"mappings":"AAAA,aACAA,OAAOC,eAAeC,QAAS,aAAc,CAAEC,MAAO,CAAA,CAAK,CAAC,EAA5DH,QAAOC,OAAAA,KAAAA,ECDP,MAAAG,SAAAC,QAAA,iBAAA,EAGMC,SAAWA,CAACC,EAAqBC,IAAqBC,KAAKC,KAAKH,EAAcC,CAAQ,EAE/EG,OAAUC,IACnB,KAAM,CACFC,WAAAA,EACAC,WAAAA,EACAN,SAAAA,EACAO,eAAAA,EACAC,QAAAA,EAAU,CAAA,EACVC,eAAAA,CAAc,EACdL,EAEEM,EAAkC,CACpCC,KAAM,EACNC,YAAa,CAAA,EACbC,WAAY,CAAA,EACZC,YAAa,EACbC,kBAAmB,CAAA,EACnBC,iBAAkB,CAAA,EAClBC,aAAc,GACdC,MAAO,EAVV,EAaKC,EAAqBA,IAChBrB,SAASO,EAAYL,CAAQ,EAGxC,IACUoB,EAAUC,MAAMC,KAAKD,MAAMF,EAAkB,CAAE,EAAEI,KAAI,CAAE,EAAEC,IAAKb,GAASA,EAAO,CAAC,EAE/Ec,EAAa,GAEnB,IAAKC,IAAIC,EAAI,EAAGA,EAAI1B,KAAKC,KAAKkB,EAAQQ,OAASrB,CAAc,EAAGoB,CAAC,GAC7DF,EAAWE,GAAKP,EAAQS,MAAMF,EAAIpB,EAAgBoB,EAAIpB,EAAiBA,CAAc,EAGzFG,EAAMO,aAAeQ,EAKzB,MAAMK,EAAyBA,KACvBlC,SAAAmC,OAAOC,OAAOvB,CAAc,GAC5BA,EAAeC,CAAK,CAE5B,EAEMuB,EAA0BA,IACrBvB,EAAMO,aAAaW,OAGxBM,EAA2BA,IACA,IAAtBxB,EAAMI,YAEXqB,EAA0BA,IACrBzB,EAAMI,cAAgBmB,EAAuB,EASlDG,EAAwBC,IAC1B,IAAMC,EAAQL,EAAuB,EACL,GAAdI,GAA4BA,GAATC,IAEjC5B,EAAMI,YAAcuB,EACpB3B,EAAMQ,MAAQR,EAAMO,aAAaP,EAAMI,YAAc,GACrDJ,EAAMK,kBAAoBmB,EAAwB,EAClDxB,EAAMM,iBAAmBmB,EAAuB,GAEpDL,EAAsB,CAC1B,EAUA,MAAMS,EAAc5B,IAChB,IAAM2B,EAAQnB,EAAkB,EACN,GAARR,GAAsBA,GAAT2B,IAG3B5B,EAAMC,KAAOA,EACbD,EAAME,YAhCY,IAAfF,EAAMC,KAiCTD,EAAMG,WA9BHH,EAAMC,OAASQ,EAAkB,EA+B/BT,EAAMQ,MAAMsB,SAAS7B,CAAI,IACpB8B,EAAa/B,EAAMO,aAAayB,UAAWC,GAAMA,EAAEH,SAAS9B,EAAMC,IAAI,CAAC,EAC7ED,EAAMI,YAAc2B,EAAa,EACjC/B,EAAMQ,MAAQR,EAAMO,aAAawB,GACjC/B,EAAMK,kBAAoBmB,EAAwB,EAClDxB,EAAMM,iBAAmBmB,EAAuB,IAGxDL,EAAsB,CAC1B,EAeA,OALItB,IACA+B,EAAWjC,GAAc,CAAC,EAC1BwB,EAAsB,GAGnB,CACHS,WAAAA,EACAK,SAfaA,KACbL,EAAW7B,EAAMC,KAAO,CAAC,CAC7B,EAcIkC,SAZaA,KACbN,EAAW7B,EAAMC,KAAO,CAAC,CAC7B,EAWImC,mBA5CuBA,KACvBV,EAAqB1B,EAAMI,YAAc,CAAC,CAC9C,EA2CIiC,mBAzCuBA,KACvBX,EAAqB1B,EAAMI,YAAc,CAAC,CAC9C,CA6BA,CAYJ,EAzHapB,QAAAS,OAAMA","file":"paging.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.paging = void 0;\nconst Guards_1 = require(\"../../../Guards\");\nconst getCount = (itemsLength, pageSize) => Math.ceil(itemsLength / pageSize);\nconst paging = (options) => {\n    const { itemsCount, startsWith, pageSize, paginationSize, onMount = true, onPagingUpdate, } = options;\n    const state = {\n        page: 1,\n        isFirstPage: true,\n        isLastPage: false,\n        _pagingPage: 1,\n        isFirstPagingPage: true,\n        isLastPagingPage: false,\n        _pagingPages: [],\n        pages: [],\n    };\n    const getItemsPagesCount = () => {\n        return getCount(itemsCount, pageSize);\n    };\n    const generatePagingPages = () => {\n        const ofCount = Array.from(Array(getItemsPagesCount()).keys()).map((page) => page + 1);\n        const paginPages = [];\n        for (let i = 0; i < Math.ceil(ofCount.length / paginationSize); i++) {\n            paginPages[i] = ofCount.slice(i * paginationSize, i * paginationSize + paginationSize);\n        }\n        state._pagingPages = paginPages;\n    };\n    generatePagingPages();\n    const onPagingUpdateCallback = () => {\n        if (Guards_1.Guards.isFunc(onPagingUpdate)) {\n            onPagingUpdate(state);\n        }\n    };\n    const getPaginationPagesCount = () => {\n        return state._pagingPages.length;\n    };\n    const getIsFirstPaginationPage = () => {\n        return state._pagingPage === 1;\n    };\n    const getIsLastPaginationPage = () => {\n        return state._pagingPage === getPaginationPagesCount();\n    };\n    const getIsFirstItemsPage = () => {\n        return state.page === 1;\n    };\n    const getIsLastItemsPage = () => {\n        return state.page === getItemsPagesCount();\n    };\n    const updatePaginationPage = (pagingPage) => {\n        const count = getPaginationPagesCount();\n        const canUpdate = pagingPage >= 1 && count >= pagingPage;\n        if (canUpdate) {\n            state._pagingPage = pagingPage;\n            state.pages = state._pagingPages[state._pagingPage - 1];\n            state.isFirstPagingPage = getIsFirstPaginationPage();\n            state.isLastPagingPage = getIsLastPaginationPage();\n        }\n        onPagingUpdateCallback();\n    };\n    const nextPaginationPage = () => {\n        updatePaginationPage(state._pagingPage + 1);\n    };\n    const prevPaginationPage = () => {\n        updatePaginationPage(state._pagingPage - 1);\n    };\n    const updatePage = (page) => {\n        const count = getItemsPagesCount();\n        const canUpdate = page >= 1 && count >= page;\n        if (canUpdate) {\n            state.page = page;\n            state.isFirstPage = getIsFirstItemsPage();\n            state.isLastPage = getIsLastItemsPage();\n            if (!state.pages.includes(page)) {\n                const pagesIndex = state._pagingPages.findIndex((x) => x.includes(state.page));\n                state._pagingPage = pagesIndex + 1;\n                state.pages = state._pagingPages[pagesIndex];\n                state.isFirstPagingPage = getIsFirstPaginationPage();\n                state.isLastPagingPage = getIsLastPaginationPage();\n            }\n        }\n        onPagingUpdateCallback();\n    };\n    const nextPage = () => {\n        updatePage(state.page + 1);\n    };\n    const prevPage = () => {\n        updatePage(state.page - 1);\n    };\n    if (onMount) {\n        updatePage(startsWith || 1);\n        onPagingUpdateCallback();\n    }\n    return {\n        updatePage,\n        nextPage,\n        prevPage,\n        nextPaginationPage,\n        prevPaginationPage,\n    };\n};\nexports.paging = paging;\n","import { Guards } from '../../../Guards'\nimport { Types } from '../../Types'\n\nconst getCount = (itemsLength: number, pageSize: number) => Math.ceil(itemsLength / pageSize)\n\nexport const paging = (options: Types.Array.Paging.Options): Types.Array.Paging.PagingMethods => {\n    const {\n        itemsCount,\n        startsWith,\n        pageSize,\n        paginationSize,\n        onMount = true,\n        onPagingUpdate,\n    } = options\n\n    const state: Types.Array.Paging.State = {\n        page: 1,\n        isFirstPage: true,\n        isLastPage: false,\n        _pagingPage: 1,\n        isFirstPagingPage: true,\n        isLastPagingPage: false,\n        _pagingPages: [],\n        pages: [],\n    }\n\n    const getItemsPagesCount = () => {\n        return getCount(itemsCount, pageSize)\n    }\n\n    const generatePagingPages = () => {\n        const ofCount = Array.from(Array(getItemsPagesCount()).keys()).map((page) => page + 1)\n\n        const paginPages = []\n\n        for (let i = 0; i < Math.ceil(ofCount.length / paginationSize); i++) {\n            paginPages[i] = ofCount.slice(i * paginationSize, i * paginationSize + paginationSize)\n        }\n\n        state._pagingPages = paginPages\n    }\n\n    generatePagingPages()\n\n    const onPagingUpdateCallback = () => {\n        if (Guards.isFunc(onPagingUpdate)) {\n            onPagingUpdate(state)\n        }\n    }\n\n    const getPaginationPagesCount = () => {\n        return state._pagingPages.length\n    }\n\n    const getIsFirstPaginationPage = () => {\n        return state._pagingPage === 1\n    }\n    const getIsLastPaginationPage = () => {\n        return state._pagingPage === getPaginationPagesCount()\n    }\n    const getIsFirstItemsPage = () => {\n        return state.page === 1\n    }\n    const getIsLastItemsPage = () => {\n        return state.page === getItemsPagesCount()\n    }\n\n    const updatePaginationPage = (pagingPage: number) => {\n        const count = getPaginationPagesCount()\n        const canUpdate = pagingPage >= 1 && count >= pagingPage\n        if (canUpdate) {\n            state._pagingPage = pagingPage\n            state.pages = state._pagingPages[state._pagingPage - 1]\n            state.isFirstPagingPage = getIsFirstPaginationPage()\n            state.isLastPagingPage = getIsLastPaginationPage()\n        }\n        onPagingUpdateCallback()\n    }\n\n    const nextPaginationPage = () => {\n        updatePaginationPage(state._pagingPage + 1)\n    }\n\n    const prevPaginationPage = () => {\n        updatePaginationPage(state._pagingPage - 1)\n    }\n\n    const updatePage = (page: number) => {\n        const count = getItemsPagesCount()\n        const canUpdate = page >= 1 && count >= page\n\n        if (canUpdate) {\n            state.page = page\n            state.isFirstPage = getIsFirstItemsPage()\n            state.isLastPage = getIsLastItemsPage()\n            if (!state.pages.includes(page)) {\n                const pagesIndex = state._pagingPages.findIndex((x) => x.includes(state.page))\n                state._pagingPage = pagesIndex + 1\n                state.pages = state._pagingPages[pagesIndex]\n                state.isFirstPagingPage = getIsFirstPaginationPage()\n                state.isLastPagingPage = getIsLastPaginationPage()\n            }\n        }\n        onPagingUpdateCallback()\n    }\n\n    const nextPage = () => {\n        updatePage(state.page + 1)\n    }\n\n    const prevPage = () => {\n        updatePage(state.page - 1)\n    }\n\n    if (onMount) {\n        updatePage(startsWith || 1)\n        onPagingUpdateCallback()\n    }\n\n    return {\n        updatePage,\n        nextPage,\n        prevPage,\n        nextPaginationPage,\n        prevPaginationPage,\n    }\n}\n"]}