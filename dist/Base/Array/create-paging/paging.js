"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.paging=void 0;const Guards_1=require("../../../Guards"),getCount=(g,a)=>Math.ceil(g/a),paging=g=>{const{itemsCount:a,page:e,pageSize:i,paginationSize:n,onPagingUpdate:s}=g,t={page:1,isFirstPage:!0,isLastPage:!1,_pagingPage:1,isFirstPagingPage:!0,isLastPagingPage:!1,_pagingPages:[],pages:[]},p=()=>getCount(a,i);var P=Array.from(Array(p()).keys()).map(g=>g+1),r=[];for(let g=0;g<Math.ceil(P.length/n);g++)r[g]=P.slice(g*n,g*n+n);t._pagingPages=r;const o=()=>{Guards_1.Guards.isFunc(s)&&s(t)},u=()=>t._pagingPages.length,_=()=>1===t._pagingPage,d=()=>t._pagingPage===u(),c=g=>{var a=u();1<=g&&g<=a&&(t._pagingPage=g,t.isFirstPagingPage=_(),t.isLastPagingPage=d()),o()};const l=g=>{var a=p();1<=g&&g<=a&&(t.page=g,t.isFirstPage=1===t.page,t.isLastPage=t.page===p(),t.pages.includes(g)||(a=t._pagingPages.findIndex(g=>g.includes(t.page)),t._pagingPage=a+1,t.pages=t._pagingPages[a],t.isFirstPagingPage=_(),t.isLastPagingPage=d())),o()};return l(e),o(),{updatePage:l,nextPage:()=>{l(t.page+1)},prevPage:()=>{l(t.page-1)},nextPaginationPage:()=>{c(t._pagingPage+1)},prevPaginationPage:()=>{c(t._pagingPage-1)}}};exports.paging=paging;
//# sourceMappingURL=paging.js.map
