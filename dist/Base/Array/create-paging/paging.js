"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.paging=void 0;const Guards_1=require("../../../Guards"),getCount=(g,a)=>Math.ceil(g/a),paging=g=>{const{itemsCount:a,startsWith:e,pageSize:i,paginationSize:n,onMount:s=!0,onPagingUpdate:t}=g,p={page:1,isFirstPage:!0,isLastPage:!1,_pagingPage:1,isFirstPagingPage:!0,isLastPagingPage:!1,_pagingPages:[],pages:[]},P=()=>getCount(a,i);var r=Array.from(Array(P()).keys()).map(g=>g+1),o=[];for(let g=0;g<Math.ceil(r.length/n);g++)o[g]=r.slice(g*n,g*n+n);p._pagingPages=o;const _=()=>{Guards_1.Guards.isFunc(t)&&t(p)},u=()=>p._pagingPages.length,d=()=>1===p._pagingPage,c=()=>p._pagingPage===u(),l=g=>{var a=u();1<=g&&g<=a&&(p._pagingPage=g,p.pages=p._pagingPages[p._pagingPage-1],p.isFirstPagingPage=d(),p.isLastPagingPage=c()),_()};const v=g=>{var a=P();1<=g&&g<=a&&(p.page=g,p.isFirstPage=1===p.page,p.isLastPage=p.page===P(),p.pages.includes(g)||(a=p._pagingPages.findIndex(g=>g.includes(p.page)),p._pagingPage=a+1,p.pages=p._pagingPages[a],p.isFirstPagingPage=d(),p.isLastPagingPage=c())),_()};return s&&(v(e||1),_()),{updatePage:v,nextPage:()=>{v(p.page+1)},prevPage:()=>{v(p.page-1)},nextPaginationPage:()=>{l(p._pagingPage+1)},prevPaginationPage:()=>{l(p._pagingPage-1)}}};exports.paging=paging;
//# sourceMappingURL=paging.js.map
