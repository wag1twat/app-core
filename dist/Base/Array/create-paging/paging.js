"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.paging=void 0;const Guards_1=require("../../../Guards"),getCount=(g,a)=>Math.ceil(g/a),paging=g=>{const{itemsCount:a,page:e=1,pageSize:i,paginationSize:n,onMount:s=!0,onPagingUpdate:p}=g,t={page:1,isFirstPage:!0,isLastPage:!1,_pagingPage:1,isFirstPagingPage:!0,isLastPagingPage:!1,_pagingPages:[],pages:[]},P=()=>getCount(a,i);var r=Array.from(Array(P()).keys()).map(g=>g+1),o=[];for(let g=0;g<Math.ceil(r.length/n);g++)o[g]=r.slice(g*n,g*n+n);t._pagingPages=o;const _=()=>{Guards_1.Guards.isFunc(p)&&p(t)},u=()=>t._pagingPages.length,d=()=>1===t._pagingPage,c=()=>t._pagingPage===u(),l=g=>{var a=u();1<=g&&g<=a&&(t._pagingPage=g,t.pages=t._pagingPages[t._pagingPage-1],t.isFirstPagingPage=d(),t.isLastPagingPage=c()),_()};const v=g=>{var a=P();1<=g&&g<=a&&(t.page=g,t.isFirstPage=1===t.page,t.isLastPage=t.page===P(),t.pages.includes(g)||(a=t._pagingPages.findIndex(g=>g.includes(t.page)),t._pagingPage=a+1,t.pages=t._pagingPages[a],t.isFirstPagingPage=d(),t.isLastPagingPage=c())),_()};return s&&(v(e),_()),{updatePage:v,nextPage:()=>{v(t.page+1)},prevPage:()=>{v(t.page-1)},nextPaginationPage:()=>{l(t._pagingPage+1)},prevPaginationPage:()=>{l(t._pagingPage-1)}}};exports.paging=paging;
//# sourceMappingURL=paging.js.map
